{"ast":null,"code":"import app from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/storage';\nimport 'firebase/auth';\nlet firebaseConfig = {\n  apiKey: \"AIzaSyCbdHXiBdfDSSwXw1dh3XU62AH8nX-DGJA\",\n  authDomain: \"brechoapp-a7b4a.firebaseapp.com\",\n  databaseURL: \"https://brechoapp-a7b4a.firebaseio.com\",\n  projectId: \"brechoapp-a7b4a\",\n  storageBucket: \"brechoapp-a7b4a.appspot.com\",\n  messagingSenderId: \"159787734903\",\n  appId: \"1:159787734903:web:db3a06ff890effb6ec3372\",\n  measurementId: \"G-VY8FLGX3VX\"\n};\n\nclass Firebase {\n  constructor() {\n    if (!app.apps.length) {\n      app.initializeApp(firebaseConfig);\n    } // referenciando a database para acesar em outros locais\n\n\n    this.app = app.database();\n    this.storage = app.storage();\n  }\n\n  login(email, password) {\n    return app.auth().signInWithEmailAndPassword(email, password);\n  }\n\n  logout() {\n    return app.auth().signOut();\n  }\n\n  async register(nome, email, password) {\n    await app.auth().createUserWithEmailAndPassword(email, password);\n    const uid = app.auth().currentUser.uid;\n    return app.database().ref('usuarios').child(uid).set({\n      nome: nome\n    });\n  }\n\n  isInitialized() {\n    return new Promise(resolve => {\n      app.auth().onAuthStateChanged(resolve);\n    });\n  }\n\n  getCurrent() {\n    return app.auth().currentUser && app.auth().currentUser.email;\n  }\n\n  getCurrentUid() {\n    return app.auth().currentUser && app.auth().currentUser.uid;\n  }\n\n  async getUserName(callback) {\n    if (!app.auth().currentUser) {\n      return null;\n    }\n\n    const uid = app.auth().currentUser.uid;\n    await app.database().ref('usuarios').child(uid).once('value').then(callback);\n  }\n\n}\n\nexport default new Firebase();","map":{"version":3,"sources":["/home/bruno/Projects/blog/src/firebase.js"],"names":["app","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","constructor","apps","length","initializeApp","database","storage","login","email","password","auth","signInWithEmailAndPassword","logout","signOut","register","nome","createUserWithEmailAndPassword","uid","currentUser","ref","child","set","isInitialized","Promise","resolve","onAuthStateChanged","getCurrent","getCurrentUid","getUserName","callback","once","then"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AACA,OAAO,mBAAP;AACA,OAAO,kBAAP;AACA,OAAO,eAAP;AAEA,IAAIC,cAAc,GAAG;AACjBC,EAAAA,MAAM,EAAE,yCADS;AAEjBC,EAAAA,UAAU,EAAE,iCAFK;AAGjBC,EAAAA,WAAW,EAAE,wCAHI;AAIjBC,EAAAA,SAAS,EAAE,iBAJM;AAKjBC,EAAAA,aAAa,EAAE,6BALE;AAMjBC,EAAAA,iBAAiB,EAAE,cANF;AAOjBC,EAAAA,KAAK,EAAE,2CAPU;AAQjBC,EAAAA,aAAa,EAAE;AARE,CAArB;;AAYA,MAAMC,QAAN,CAAe;AACXC,EAAAA,WAAW,GAAG;AACV,QAAI,CAACX,GAAG,CAACY,IAAJ,CAASC,MAAd,EAAsB;AAClBb,MAAAA,GAAG,CAACc,aAAJ,CAAkBb,cAAlB;AACH,KAHS,CAKV;;;AACA,SAAKD,GAAL,GAAWA,GAAG,CAACe,QAAJ,EAAX;AACA,SAAKC,OAAL,GAAehB,GAAG,CAACgB,OAAJ,EAAf;AAEH;;AAODC,EAAAA,KAAK,CAACC,KAAD,EAAQC,QAAR,EAAkB;AACnB,WAAQnB,GAAG,CAACoB,IAAJ,GAAWC,0BAAX,CAAsCH,KAAtC,EAA6CC,QAA7C,CAAR;AAGH;;AAEDG,EAAAA,MAAM,GAAG;AACL,WAAOtB,GAAG,CAACoB,IAAJ,GAAWG,OAAX,EAAP;AACH;;AAED,QAAMC,QAAN,CAAeC,IAAf,EAAqBP,KAArB,EAA4BC,QAA5B,EAAsC;AAElC,UAAMnB,GAAG,CAACoB,IAAJ,GAAWM,8BAAX,CAA0CR,KAA1C,EAAiDC,QAAjD,CAAN;AAEA,UAAMQ,GAAG,GAAG3B,GAAG,CAACoB,IAAJ,GAAWQ,WAAX,CAAuBD,GAAnC;AACA,WAAQ3B,GAAG,CAACe,QAAJ,GAAec,GAAf,CAAmB,UAAnB,EAA+BC,KAA/B,CAAqCH,GAArC,EAA0CI,GAA1C,CAA8C;AAClDN,MAAAA,IAAI,EAAEA;AAD4C,KAA9C,CAAR;AAIH;;AAEDO,EAAAA,aAAa,GAAG;AACZ,WAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAI;AAC1BlC,MAAAA,GAAG,CAACoB,IAAJ,GAAWe,kBAAX,CAA8BD,OAA9B;AACH,KAFM,CAAP;AAGH;;AAEDE,EAAAA,UAAU,GAAG;AACT,WAAOpC,GAAG,CAACoB,IAAJ,GAAWQ,WAAX,IAA0B5B,GAAG,CAACoB,IAAJ,GAAWQ,WAAX,CAAuBV,KAAxD;AACH;;AAEDmB,EAAAA,aAAa,GAAG;AACZ,WAAOrC,GAAG,CAACoB,IAAJ,GAAWQ,WAAX,IAA0B5B,GAAG,CAACoB,IAAJ,GAAWQ,WAAX,CAAuBD,GAAxD;AACH;;AAED,QAAMW,WAAN,CAAkBC,QAAlB,EAA4B;AACxB,QAAI,CAACvC,GAAG,CAACoB,IAAJ,GAAWQ,WAAhB,EAA6B;AACzB,aAAO,IAAP;AACH;;AAED,UAAMD,GAAG,GAAG3B,GAAG,CAACoB,IAAJ,GAAWQ,WAAX,CAAuBD,GAAnC;AACA,UAAM3B,GAAG,CAACe,QAAJ,GAAec,GAAf,CAAmB,UAAnB,EAA+BC,KAA/B,CAAqCH,GAArC,EACDa,IADC,CACI,OADJ,EACaC,IADb,CACkBF,QADlB,CAAN;AAGH;;AA7DU;;AAiEf,eAAe,IAAI7B,QAAJ,EAAf","sourcesContent":["import app from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/storage'\nimport 'firebase/auth';\n\nlet firebaseConfig = {\n    apiKey: \"AIzaSyCbdHXiBdfDSSwXw1dh3XU62AH8nX-DGJA\",\n    authDomain: \"brechoapp-a7b4a.firebaseapp.com\",\n    databaseURL: \"https://brechoapp-a7b4a.firebaseio.com\",\n    projectId: \"brechoapp-a7b4a\",\n    storageBucket: \"brechoapp-a7b4a.appspot.com\",\n    messagingSenderId: \"159787734903\",\n    appId: \"1:159787734903:web:db3a06ff890effb6ec3372\",\n    measurementId: \"G-VY8FLGX3VX\"\n};\n\n\nclass Firebase {\n    constructor() {\n        if (!app.apps.length) {\n            app.initializeApp(firebaseConfig);\n        }\n\n        // referenciando a database para acesar em outros locais\n        this.app = app.database();\n        this.storage = app.storage();\n\n    }\n\n\n\n\n\n\n    login(email, password) {\n        return (app.auth().signInWithEmailAndPassword(email, password))\n\n\n    }\n\n    logout() {\n        return app.auth().signOut()\n    }\n\n    async register(nome, email, password) {\n\n        await app.auth().createUserWithEmailAndPassword(email, password)\n\n        const uid = app.auth().currentUser.uid;\n        return (app.database().ref('usuarios').child(uid).set({\n            nome: nome\n        }))\n\n    }\n\n    isInitialized() {\n        return new Promise(resolve => {\n            app.auth().onAuthStateChanged(resolve);\n        })\n    }\n\n    getCurrent() {\n        return app.auth().currentUser && app.auth().currentUser.email;\n    }\n\n    getCurrentUid() {\n        return app.auth().currentUser && app.auth().currentUser.uid;\n    }\n\n    async getUserName(callback) {\n        if (!app.auth().currentUser) {\n            return null\n        }\n\n        const uid = app.auth().currentUser.uid;\n        await app.database().ref('usuarios').child(uid)\n            .once('value').then(callback)\n\n    }\n\n}\n\nexport default new Firebase();"]},"metadata":{},"sourceType":"module"}