{"ast":null,"code":"import app from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/auth';\nlet firebaseConfig = {\n  apiKey: \"AIzaSyCbdHXiBdfDSSwXw1dh3XU62AH8nX-DGJA\",\n  authDomain: \"brechoapp-a7b4a.firebaseapp.com\",\n  databaseURL: \"https://brechoapp-a7b4a.firebaseio.com\",\n  projectId: \"brechoapp-a7b4a\",\n  storageBucket: \"brechoapp-a7b4a.appspot.com\",\n  messagingSenderId: \"159787734903\",\n  appId: \"1:159787734903:web:db3a06ff890effb6ec3372\",\n  measurementId: \"G-VY8FLGX3VX\"\n};\n\nclass Firebase {\n  constructor() {\n    if (!app.apps.length) {\n      app.initializeApp(firebaseConfig);\n    }\n\n    this.app = app.database();\n  }\n\n  logout() {\n    rturn(app.auth().logout);\n  }\n\n  login(email, password) {\n    return app.auth().signInWithEmailAndPassword(email, password);\n  }\n\n  async register(nome, email, password) {\n    await app.auth().createUserWithEmailAndPassword(email, password);\n    const uid = app.auth().currentUser.uid;\n    return app.database().ref('usuarios').child(uid).set({\n      nome: nome\n    });\n  }\n\n  isInitialized() {\n    return new Promise(resolve => {\n      app.auth().onAuthStateChanged(resolve);\n    });\n  }\n\n  getCurrent() {\n    return app.auth().currentUser && app.auth().currentUser.email;\n  }\n\n  async getUserName(callback) {\n    if (!app.auth().currentUser) {\n      return null;\n    }\n\n    const uid = app.auth().currentUser.uid;\n    await app.database().ref('usuarios').child(uid).once('value').then(callback);\n  }\n\n}\n\nexport default new Firebase();","map":{"version":3,"sources":["/home/bruno/Projects/blog/src/firebase.js"],"names":["app","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","constructor","apps","length","initializeApp","database","logout","rturn","auth","login","email","password","signInWithEmailAndPassword","register","nome","createUserWithEmailAndPassword","uid","currentUser","ref","child","set","isInitialized","Promise","resolve","onAuthStateChanged","getCurrent","getUserName","callback","once","then"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AACA,OAAO,mBAAP;AACA,OAAO,eAAP;AAEA,IAAIC,cAAc,GAAG;AACjBC,EAAAA,MAAM,EAAE,yCADS;AAEjBC,EAAAA,UAAU,EAAE,iCAFK;AAGjBC,EAAAA,WAAW,EAAE,wCAHI;AAIjBC,EAAAA,SAAS,EAAE,iBAJM;AAKjBC,EAAAA,aAAa,EAAE,6BALE;AAMjBC,EAAAA,iBAAiB,EAAE,cANF;AAOjBC,EAAAA,KAAK,EAAE,2CAPU;AAQjBC,EAAAA,aAAa,EAAE;AARE,CAArB;;AAYA,MAAMC,QAAN,CAAe;AACXC,EAAAA,WAAW,GAAG;AACV,QAAI,CAACX,GAAG,CAACY,IAAJ,CAASC,MAAd,EAAsB;AAClBb,MAAAA,GAAG,CAACc,aAAJ,CAAkBb,cAAlB;AACH;;AAED,SAAKD,GAAL,GAAWA,GAAG,CAACe,QAAJ,EAAX;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACLC,IAAAA,KAAK,CAACjB,GAAG,CAACkB,IAAJ,GAAWF,MAAZ,CAAL;AACH;;AAKDG,EAAAA,KAAK,CAACC,KAAD,EAAQC,QAAR,EAAkB;AACnB,WAAQrB,GAAG,CAACkB,IAAJ,GAAWI,0BAAX,CAAsCF,KAAtC,EAA6CC,QAA7C,CAAR;AAGH;;AAED,QAAME,QAAN,CAAeC,IAAf,EAAqBJ,KAArB,EAA4BC,QAA5B,EAAsC;AAElC,UAAMrB,GAAG,CAACkB,IAAJ,GAAWO,8BAAX,CAA0CL,KAA1C,EAAiDC,QAAjD,CAAN;AAEA,UAAMK,GAAG,GAAG1B,GAAG,CAACkB,IAAJ,GAAWS,WAAX,CAAuBD,GAAnC;AACA,WAAQ1B,GAAG,CAACe,QAAJ,GAAea,GAAf,CAAmB,UAAnB,EAA+BC,KAA/B,CAAqCH,GAArC,EAA0CI,GAA1C,CAA8C;AAClDN,MAAAA,IAAI,EAAEA;AAD4C,KAA9C,CAAR;AAIH;;AAEDO,EAAAA,aAAa,GAAG;AACZ,WAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAI;AAC1BjC,MAAAA,GAAG,CAACkB,IAAJ,GAAWgB,kBAAX,CAA8BD,OAA9B;AACH,KAFM,CAAP;AAGH;;AAEDE,EAAAA,UAAU,GAAG;AACT,WAAOnC,GAAG,CAACkB,IAAJ,GAAWS,WAAX,IAA0B3B,GAAG,CAACkB,IAAJ,GAAWS,WAAX,CAAuBP,KAAxD;AACH;;AAED,QAAMgB,WAAN,CAAkBC,QAAlB,EAA4B;AACxB,QAAI,CAACrC,GAAG,CAACkB,IAAJ,GAAWS,WAAhB,EAA6B;AACzB,aAAO,IAAP;AACH;;AAED,UAAMD,GAAG,GAAG1B,GAAG,CAACkB,IAAJ,GAAWS,WAAX,CAAuBD,GAAnC;AACA,UAAM1B,GAAG,CAACe,QAAJ,GAAea,GAAf,CAAmB,UAAnB,EAA+BC,KAA/B,CAAqCH,GAArC,EACDY,IADC,CACI,OADJ,EACaC,IADb,CACkBF,QADlB,CAAN;AAGH;;AApDU;;AAwDf,eAAe,IAAI3B,QAAJ,EAAf","sourcesContent":["import app from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/auth';\n\nlet firebaseConfig = {\n    apiKey: \"AIzaSyCbdHXiBdfDSSwXw1dh3XU62AH8nX-DGJA\",\n    authDomain: \"brechoapp-a7b4a.firebaseapp.com\",\n    databaseURL: \"https://brechoapp-a7b4a.firebaseio.com\",\n    projectId: \"brechoapp-a7b4a\",\n    storageBucket: \"brechoapp-a7b4a.appspot.com\",\n    messagingSenderId: \"159787734903\",\n    appId: \"1:159787734903:web:db3a06ff890effb6ec3372\",\n    measurementId: \"G-VY8FLGX3VX\"\n};\n\n\nclass Firebase {\n    constructor() {\n        if (!app.apps.length) {\n            app.initializeApp(firebaseConfig);\n        }\n\n        this.app = app.database()\n    }\n\n    logout() {\n        rturn(app.auth().logout)\n    }\n\n\n\n\n    login(email, password) {\n        return (app.auth().signInWithEmailAndPassword(email, password))\n\n\n    }\n\n    async register(nome, email, password) {\n\n        await app.auth().createUserWithEmailAndPassword(email, password)\n\n        const uid = app.auth().currentUser.uid;\n        return (app.database().ref('usuarios').child(uid).set({\n            nome: nome\n        }))\n\n    }\n\n    isInitialized() {\n        return new Promise(resolve => {\n            app.auth().onAuthStateChanged(resolve);\n        })\n    }\n\n    getCurrent() {\n        return app.auth().currentUser && app.auth().currentUser.email\n    }\n\n    async getUserName(callback) {\n        if (!app.auth().currentUser) {\n            return null\n        }\n\n        const uid = app.auth().currentUser.uid;\n        await app.database().ref('usuarios').child(uid)\n            .once('value').then(callback)\n\n    }\n\n}\n\nexport default new Firebase();"]},"metadata":{},"sourceType":"module"}